<!DOCTYPE html>
<html>

<head>
  <title>Class and Spec Selection</title>
  <style>
    .decision-group {
      margin-bottom: 20px;
      width: 50%;

    }

    .decision-group label {

      margin-bottom: 10px;
      font-weight: bold;
    }

    .decision-group button {
      margin-bottom: 5px;
    }

    .selected {
      background-color: #4CAF50;
      /* Green */
      color: white;
    }

    #result {
      margin-top: 20px;
      font-size: larger;
      color: blue;
    }

    /* Style for class/spec buttons to make them 2 buttons wide */
    #classSpecGroup {
      display: grid;
      width: 50%;
      grid-template-columns: repeat(2, 1fr);
      /* Creates 2 columns of equal width */
      gap: 10px;
      /* Adds space between buttons */
    }

    #classSpecGroup button {
      margin-right: 0;
      /* Remove the right margin for buttons in this group */
    }
  </style>
</head>

<body>



  <div id="combatStyleGroup" class="decision-group">

    <button onclick="selectOption('combatStyle', 'Melee')">Melee</button>
    <button onclick="selectOption('combatStyle', 'Ranged')">Ranged</button>
  </div>

  <div id="damageTypeGroup" class="decision-group">

    <button onclick="selectOption('damageType', 'Physical')">Physical</button>
    <button onclick="selectOption('damageType', 'Magic')">Magic</button>
  </div>

  <div id="strategyGroup" class="decision-group">

    <button onclick="selectOption('strategy', 'Burst')">Burst</button>
    <button onclick="selectOption('strategy', 'Sustain')">Sustain</button>
  </div>

  <div id="classSpecGroup" class="decision-group">


    <button onclick="autoSelect('Berserker')">Berserker</button>
    <button onclick="autoSelect('Paladin')">Paladin</button>
    <button onclick="autoSelect('Spellblade')">Spellblade</button>
    <button onclick="autoSelect('Mystic Knight')">Mystic Knight</button>
    <button onclick="autoSelect('Sharpshooter')">Sharpshooter</button>
    <button onclick="autoSelect('Archer')">Archer</button>
    <button onclick="autoSelect('Sorcerer')">Sorcerer</button>
    <button onclick="autoSelect('Elementalist')">Elementalist</button>
  </div>

  <p id="result"></p>

  <script>
    let selections = {
      combatStyle: null,
      damageType: null,
      strategy: null
    };

    function selectOption(category, option) {
      // Store the selection
      selections[category] = option;

      // Update button styles
      updateButtonStyles(category, option);

      // Determine and display the class/spec if all selections are made
      if (selections.combatStyle && selections.damageType && selections.strategy) {
        const classSpec = determineClassSpec();
        document.getElementById("result").innerHTML = "Your class/spec: " + classSpec;
      }
    }

    function autoSelect(classSpec) {
      // Map each class/spec to its corresponding options
      const mapping = {
        'Berserker': ['Melee', 'Physical', 'Burst'],
        'Paladin': ['Melee', 'Physical', 'Sustain'],
        'Spellblade': ['Melee', 'Magic', 'Burst'],
        'Mystic Knight': ['Melee', 'Magic', 'Sustain'],
        'Sharpshooter': ['Ranged', 'Physical', 'Burst'],
        'Archer': ['Ranged', 'Physical', 'Sustain'],
        'Sorcerer': ['Ranged', 'Magic', 'Burst'],
        'Elementalist': ['Ranged', 'Magic', 'Sustain']
      };

      if (mapping[classSpec]) {
        selectOption('combatStyle', mapping[classSpec][0]);
        selectOption('damageType', mapping[classSpec][1]);
        selectOption('strategy', mapping[classSpec][2]);
      }
    }

    function updateButtonStyles(category, selectedOption) {
      let buttons = document.getElementById(category + 'Group').getElementsByTagName('button');
      for (let button of buttons) {
        if (button.textContent === selectedOption) {
          button.classList.add('selected');
        } else {
          button.classList.remove('selected');
        }
      }
    }

    function determineClassSpec() {
      const {combatStyle, damageType, strategy} = selections;

      // Mapping of options to class/spec
      if (combatStyle === "Melee" && damageType === "Physical" && strategy === "Burst") {
        return "Berserker";
      } else if (combatStyle === "Melee" && damageType === "Physical" && strategy === "Sustain") {
        return "Paladin";
      } else if (combatStyle === "Melee" && damageType === "Magic" && strategy === "Burst") {
        return "Spellblade";
      } else if (combatStyle === "Melee" && damageType === "Magic" && strategy === "Sustain") {
        return "Mystic Knight";
      } else if (combatStyle === "Ranged" && damageType === "Physical" && strategy === "Burst") {
        return "Sharpshooter";
      } else if (combatStyle === "Ranged" && damageType === "Physical" && strategy === "Sustain") {
        return "Archer";
      } else if (combatStyle === "Ranged" && damageType === "Magic" && strategy === "Burst") {
        return "Sorcerer";
      } else if (combatStyle === "Ranged" && damageType === "Magic" && strategy === "Sustain") {
        return "Elementalist";
      }

      return "Class not found";
    }
  </script>

</body>

</html>
